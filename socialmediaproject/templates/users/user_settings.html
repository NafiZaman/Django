{% extends 'index.html' %}
{% load static %}
{% load crispy_forms_tags%}
{% comment %} {% load crispy_forms_filters%} {% endcomment %}

{% block content %}
    <section class="p-2">
        <form action="{% url 'users:user_settings'%}" method="post">
            {% csrf_token %}
            <div class="card border-primary p-2">
                <h4 class="mt-2 text-center text-decoration-underline">Your settings</h4>
                <div class="mb-1" id="div_id_post_visibility">
                    <div class="d-flex flex-wrap flex-md-row">
                        <label class="form-label requiredField" for="id_post_visibility">
                            <strong>Post visibility</strong><span class="asteriskField">*</span>
                            <p class="m-0 lead fs-6 text-wrap"><small>Decide who gets to see all of your posts, comments, uploads, and wall posts</small></p>
                        </label>
                        <div class="ms-md-auto align-self-center">
                            {{form.post_visibility|as_crispy_field}}
                        </div>
                    </div>
                </div>
                
                <div class="mb-2" id="div_id_profile_visibility">
                    <div class="d-flex flex-wrap flex-md-row">
                        <label class="form-label requiredField" for="id_profile_visibility">
                            <strong>Profile visibility</strong><span class="asteriskField">*</span>
                            <p class="m-0 lead fs-6 text-wrap"><small>Decide who gets to see your profile and profile information</small></p>
                        </label>
                        <div class="ms-md-auto align-self-center">
                            {{form.profile_visibility|as_crispy_field}}
                        </div>
                    </div>
                </div>
                
                <div class="mb-2" id="div_id_upload_visibility">
                    <div class="d-flex flex-wrap flex-md-row">
                        <label class="form-label requiredField" for="id_upload_visibility">
                            <strong>Upload visibility</strong><span class="asteriskField">*</span>
                            <p class="m-0 lead fs-6 text-wrap"><small>Decide who gets to see the images and vidoes you upload</small></p>
                        </label>
                        <div class="ms-md-auto align-self-center">
                            {{form.upload_visibility|as_crispy_field}}
                        </div>
                    </div>
                </div>
                <div class="card-footer align-items-end">
                    <button type="submit" class="btn btn-primary btn-sm" name="settings">Save Changes</button>
                </div>
            </div>

            <div class="mt-3 card border-primary p-2">
                <h4 class="mt-2 text-center text-decoration-underline">Your personal information</h4>
                {{pi_form|crispy}}  
                <div class="card-footer">
                    <button type="submit" class="btn btn-primary btn-sm" name="info">Save Changes</button>
                </div>
            </div>
        </form>
    </section>
    
{% endblock %}